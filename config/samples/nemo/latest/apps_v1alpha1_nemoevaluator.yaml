apiVersion: apps.nvidia.com/v1alpha1
kind: NemoEvaluator
metadata:
  name: nemoevaluator-sample
  namespace: nemo
spec:
  evaluationImages:
    bigcodeEvalHarness: "nvcr.io/nvidia/eval-factory/bigcode-evaluation-harness:25.06.2"
    lmEvalHarness: "nvcr.io/nvidia/eval-factory/lm-evaluation-harness:25.06.2"
    retriever: "nvcr.io/nvidia/eval-factory/rag_retriever_eval:25.06.2"
    rag: "nvcr.io/nvidia/eval-factory/rag_retriever_eval:25.06.2"
    bfcl: "nvcr.io/nvidia/eval-factory/bfcl:25.06.2"
    agenticEval: "nvcr.io/nvidia/eval-factory/agentic_eval:25.06.2"
    safetyHarness: "nvcr.io/nvidia/eval-factory/safety-harness:25.06.1"
  image:
    repository: nvcr.io/nvidia/nemo-microservices/evaluator
    tag: "25.08"
    pullPolicy: IfNotPresent
    pullSecrets:
      - ngc-secret
  expose:
    service:
      type: ClusterIP
      port: 8000
  argoWorkflows:
    endpoint: https://argo-workflows-server.nemo.svc.cluster.local:2746
    serviceAccount: argo-workflows-executor
  vectorDB:
    endpoint: http://milvus.nemo.svc.cluster.local:19530
  datastore:
    endpoint: http://nemodatastore-sample.nemo.svc.cluster.local:8000/v1/hf
  entitystore:
    endpoint: http://nemoentitystore-sample.nemo.svc.cluster.local:8000
  databaseConfig:
    host: evaluator-pg-postgresql.nemo.svc.cluster.local
    port: 5432
    databaseName: evaldb
    credentials:
      user: evaluser
      secretName: evaluator-pg-existing-secret
      passwordKey: password
  otel:
    enabled: true
    exporterOtlpEndpoint: http://evaluator-otel-opentelemetry-collector.nemo.svc.cluster.local:4317
  replicas: 1
